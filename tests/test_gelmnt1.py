

from pathlib import Path
import pytest
from femipo.fem.fem import FEM
@pytest.fixture
def file_path(tmp_path:Path)->Path:
    # Create a temporary file within the pytest temporary directory
    file = tmp_path / "test_file.txt"
    
    # Write the content to the file
    file.write_text("""GELMNT1   1.20620000E+04  1.20620000E+04  3.10000000E+01  0.00000000E+00
          5.08740000E+04  5.08790000E+04  3.98550000E+04  5.08810000E+04
          5.08800000E+04  5.08820000E+04  5.08830000E+04  5.08650000E+04
          5.08840000E+04  6.36300000E+03
GELMNT1   1.20630000E+04  1.20630000E+04  3.10000000E+01  0.00000000E+00
          1.67930000E+04  5.08850000E+04  1.84890000E+04  4.69260000E+04
          1.68030000E+04  5.08400000E+04  5.08420000E+04  1.84930000E+04
          4.69220000E+04  1.84850000E+04
GELMNT1   1.20640000E+04  1.20640000E+04  3.10000000E+01  0.00000000E+00
          1.41300000E+03  5.08870000E+04  5.08860000E+04  5.08880000E+04
          8.65500000E+03  3.29850000E+04  2.48190000E+04  5.08890000E+04
          3.29840000E+04  6.77200000E+03
GELMNT1   1.20650000E+04  1.20650000E+04  3.10000000E+01  0.00000000E+00
          3.06860000E+04  5.08920000E+04  5.08800000E+04  5.08930000E+04
          5.08900000E+04  5.08940000E+04  5.08950000E+04  5.08960000E+04
          5.08970000E+04  5.08910000E+04
GELMNT1   1.20660000E+04  1.20660000E+04  3.10000000E+01  0.00000000E+00
          3.26470000E+04  5.08980000E+04  3.26960000E+04  4.04410000E+04
          4.04390000E+04  5.08990000E+04  3.26820000E+04  3.26980000E+04
          4.04420000E+04  3.26810000E+04""")

    return file


def test_read_gelmnt1(file_path):
    fem_obj=FEM()
    fem_obj.read_fem(file_path)

    
    
  
    assert fem_obj.gelmnt1[int(float(1.20660000E+04 ))].eltype == float(31 )

    